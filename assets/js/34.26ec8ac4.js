(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{332:function(n,t,e){"use strict";e.r(t);var i=e(4),l=Object(i.a)({},(function(){var n=this._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[n("h1",{attrs:{id:"防抖节流"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#防抖节流"}},[this._v("#")]),this._v(" 防抖节流")]),this._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[this._v('// 防抖 注意 接收的是一个 function 而不是 箭头函数 \\[ this 指向 修正 需要 \\]\n\nexport const debounce = function(callback: Function, delay: number, immediate: boolean | undefined) {\n\nif (typeof callback !== "function") {\n\nthrow new TypeError("callback不是函数")\n\n}\n\nlet timer = null\n\nreturn function(...args) {\n\nif (timer !== null) {\n\nclearTimeout(timer)\n\n}\n\nif (immediate) {\n\nvar callNow = !timer\n\ntimer = setTimeout(() => {\n\ntimer = null\n\n}, delay)\n\nif (callNow) callback.apply(this, args)\n\n} else {\n\ntimer = setTimeout(() => {\n\nif (callback) {\n\n// eslint-disable-next-line no-invalid-this\n\ncallback.apply(this, args)\n\n}\n\n}, delay)\n\n}\n\n}\n\n}\n\n// 防抖用法： debounce(function() {\n\n//do something\n\n},200)\n\n// 节流 注意 接收的是一个 function 而不是 箭头函数 \\[ this 指向 修正 需要 \\]\n\nexport const throttle = function(callback: Function, delay: number, immediate: boolean = true) {\n\nif (typeof callback !== "function") {\n\nthrow new TypeError("callback不是函数")\n\n}\n\nlet timer = null\n\nreturn function(...args) {\n\nif (timer) {\n\nreturn\n\n}\n\nimmediate && callback.apply(this, args)\n\ntimer = setTimeout(() => {\n\nif (!immediate && callback) {\n\n// eslint-disable-next-line no-invalid-this\n\ncallback.apply(this, args)\n\n}\n\ntimer = null\n\n}, delay)\n\n}\n\n}\n\n// 节流用法：\n\n// 点击购买按钮\n\nconst handleBuyClick = throttle(() => {\n\n// 调用购买接口。。。。。\n\n},2000,true)\n')])])])])}),[],!1,null,null,null);t.default=l.exports}}]);